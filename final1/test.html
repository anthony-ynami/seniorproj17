<html>
<head>
  <meta charset="UTF-8">
  <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
    <script language="javascript" type="text/javascript" src="libraries/p5.dom.js"></script>
    <script language="javascript" type="text/javascript" src="libraries/rita-full.js"></script>
  <script language="javascript" type="text/javascript" src="sketch.js"></script>
  <!-- this line removes any default padding and style. you might only need one of these values set. -->

<script>

//Context-free grammar parser extracted from RiTa: http://rednoise.org/rita/js/

//var gr = new RiGrammar(definition);
//var gr = new RiGrammar("grammar.g");
  
//window.onmouseup=mouseClicked;
window.onload = loadGrammar;

$.ajaxSetup({beforeSend: function(xhr){
  if (xhr.overrideMimeType)
  {
    xhr.overrideMimeType("application/json");
  }
}
});

function loadGrammar()
{
$.getJSON("grammar.txt", function(str){
    gr = new RiGrammar(str);
	generate();
    });	
}


function generate()
{
    result = gr.expand();
    changeTextSimple('definition', result);
}

function changeTextSimple(idElement, result){
document.getElementById(idElement).innerHTML = result;
}


function tweet()
{
var URL = "https://twitter.com/intent/tweet?text="+"A game is "+ result + " www.gamedefinitions.com";
window.open(URL);
}

</script>
        </head>
        
<body>
        <div id="hidden">
        <img src="index_files/image.png" alt="thumb" height="188" width="188">
        </div>
        
        
		<div id="horizon">
			<div id="content">
				<div class="bodytext">
                <strong>game</strong> <em>/gƒÅm/ n. (pl.</em> <strong>-games</strong><em>)</em> 
<span id="definition">a series of interesting choices  soliciting a performative action.</span>

<div id="btn">
	<a href="#" onclick="generate()" class="classname">I disagree</a>
    <a href="#" onclick="tweet()" class="classname">Tweet</a>
	</div>
</div>
	
    		</div>
		</div>

    <h1>Type in a sentence and see what changes</h1>

    <ul id="chat"></ul>

    <input type="text" name="talk" id="talk" style="position: absolute; margin-bottom: 5px width:90%;float: left;">
    <input type="button" name="submit" id="btn" style="position: absolute; margin-bottom: 5px width:10%;float: left;">

<!--     		<div id="footer">
        A randomly generated definition brought to you by <a href="http://www.molleindustria.org/" target="_blank">molleindustria</a>. Grammar file <a href="http://www.gamedefinitions.com/grammar.txt" target="new">here</a>. Any suggestion to improve it? <a href="http://www.molleindustria.org/blog/contacts/" target="_blank">Contact us. </a></div> -->
</body>
</html>